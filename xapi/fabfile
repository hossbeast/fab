/* Copyright (c) 2012-2013 Todd Freed <todd.freed@gmail.com>

   This file is part of fab.
   
   fab is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
   
   fab is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
   
   You should have received a copy of the GNU General Public License
   along with fab.  If not, see <http://www.gnu.org/licenses/>. */

# directories
$dxapi				= [ $* ]
$dcommon      = [ $dxapi/../common ~ j ]
$dlibxapi			= [ $dxapi/libxapi ~ j ]

# invocations
+[$dlibxapi] @libxapi

# default target - make everything
[ @all ] 				: [ @libxapi.all ]

# supertasks
[ @install ]		: [ @libxapi.install ]
{
	install -d													[ $destdir/$incdir ]
	install [ $dxapi/xapi.h ]						[ $destdir/$incdir ]
	install [ $dxapi/xapi/unwind.h ]		[ $destdir/$incdir/xapi ]
	install [ $dxapi/xapi/errcode.h ]		[ $destdir/$incdir/xapi ]
}

[ @uninstall ]	: [ @libxapi.uninstall ]
{
	rm -f																[ $destdir/$incdir/xapi.h ]
	rm -rf															[ $destdir/$incdir/xapi ]
}

[ @clean ]			: [ @libxapi.clean ]
